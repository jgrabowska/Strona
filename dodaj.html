<div class="w3-margin-left w3-row-padding" >
<h3>Dodaj</h3>
	<form class="w3-margin-left w3-row-padding" action="save.php" id="form">
		<div class="form-group">
			<label for="ST">ŚT</label>
			<input class="form-control" type="text" name="ST" style="width:50%">
		</div>
		<div class="form-group">
			<label for="Nazwa">Nazwa</label>
			<input class="form-control" type="text" name="Nazwa" style="width:50%">
		</div>
		<div class="form-group">
			<label for="Nr_seryjny">Nr seryjny</label>
			<input class="form-control" type="text" name="Nr_seryjny" style="width:50%">
		</div>
		<div class="form-group">
			<label for="Osoba_poz">Osoba pożyczająca</label>
			<textarea class="form-control" type="text" name="Osoba_poz" style="width:50%"></textarea>
		</div>
		<div class="form-group">
			<label for="Wydano">Wydano</label>
			<textarea class="form-control" type="text" name="Wydano" style="width:50%"></textarea>
		</div>
		<div class="form-group">
			<label for="Do_zwrotu">Do zwrotu</label>
			<textarea class="form-control" type="text" name="Do_zwrotu" style="width:50%"></textarea>
		</div>
		<div class="form-group">
			<label for="Notatki">Notatki</label>
			<textarea class="form-control" type="text" name="Notatki" style="width:50%"></textarea>
		</div>
		<div class="form-group">
			<label for="Konserwacja">Konserwacja</label>
			<textarea class="form-control" type="text" name="Konserwacja" style="width:50%"></textarea>
		</div>
		<button type="button" class="w3-button w3-white w3-border" id="btnSubmit">Dodaj</button>
	</form>
</div>
<script>
function save() 
{
	$("#btnSubmit").on("click", function() {
		alert("Hello! I am an alert box!!");
		var $this 		    = $(this); //submit button selector using ID
        var $caption        = $this.html();// We store the html content of the submit button
        var form 			= "#form"; //defined the #form ID
        var formData        = $(form).serializeArray(); //serialize the form into array
        var route 			= $(form).attr('action'); //get the route using attribute action
        
		// Ajax config
    	$.ajax({
	        type: "POST", //we are using POST method to submit the data to the server side
	        url: route, // get the route value
	        data: formData, // our serialized array data for server side
	        beforeSend: function () {//We add this before send to disable the button once we submit it so that we prevent the multiple click
	            $this.attr('disabled', true).html("Dodawanie...");
	        },
	        success: function (response) {//once the request successfully process to the server side it will return result here
	            $this.attr('disabled', false).html($caption);

	            // We will display the result using alert
	            alert(response);

	            // Reset form
	            resetForm(form);
	        },
	        error: function (XMLHttpRequest, textStatus, errorThrown) {
	        	// You can put something here if there is an error from submitted request
	        }
	    });
	});
}
</script>
